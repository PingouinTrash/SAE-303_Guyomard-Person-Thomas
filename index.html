<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <header class="mb-6">
        <nav class="navbar has-background-light p-3">
            <div class="navbar-brand">
                <span class="icon">
                    <i class></i>
                </span>
            </div>
            <div class="navbar-end">
                <a href="#text" class="button is-light">Énergie nucléaire</a>
                <a href="#dataviz1" class="button is-light">Production d'électricité</a>
                <a href="#dataviz2" class="button is-light">Sûreté et propreté</a>
                <a href="#poster" class="button is-light">Poster</a>
            </div>
        </nav>
    </header>
    <main class="columns">
        <div class="column"></div>
        <div class="column is-two-thirds">
            <h1 class="title is-1 has-text-centered" id="text">L'énergie nucléaire</h1>

            <div class="columns is-1 mt-6">
                <p class="is-size-5">
                    Alors que le monde tente de faire évoluer ses systèmes énergétiques en abandonnant les combustibles fossiles au profit de sources d’énergie à faible émission de carbone, nous disposons d’un éventail d’options énergétiques : les technologies d’énergies renouvelables telles que l’hydroélectricité, l’éolien et le solaire, ainsi que l’énergie nucléaire. L’énergie nucléaire et les technologies renouvelables émettent généralement très peu de CO2 par unité de production d’énergie et sont également bien plus efficaces que les combustibles fossiles pour limiter la pollution atmosphérique locale.
                    <br><br>
                    L’énergie nucléaire – avec l’hydroélectricité – est l’une de nos plus anciennes technologies énergétiques à faible émission de carbone. La production d'énergie nucléaire existe depuis les années 1960, mais a connu une croissance massive à l'échelle mondiale dans les années 1970, 1980 et 1990.
                    <br><br>
                    Cependant, alors que certains pays investissent massivement pour accroître leur approvisionnement en énergie nucléaire, d'autres ferment leurs centrales. Le rôle de l'énergie nucléaire dans le système énergétique est donc très spécifique à chaque pays.
                </p>
            </div>

            <h2 class="title is-2 mt-6">La production d'énergie nucléaire dans le monde</h2>
            <div class="container box" id="dataviz1">
                <h3 class="title is-4">Production d'électricité par sources d'énergies, de 1965 à 2023</h3>
                <canvas id="chart1"></canvas>
                <p class="mt-2 mb-2">* Production d'énergie mesurée en terawattheure</p>
                <p class="is-size-7">Sources :
                    <a href="https://ourworldindata.org/grapher/nuclear-energy-generation?tab=chart&country=~OWID_WRL">Nuclear power generation - Our World in Data</a> ||
                    <a href="https://ourworldindata.org/grapher/modern-renewable-energy-consumption">Renewable electricity generation - Our World in Data </a> ||
                    <a href="https://ourworldindata.org/grapher/modern-renewable-prod">Modern renewable energy generation by source - Our World in Data</a> ||
                    <a href="https://ourworldindata.org/grapher/elec-fossil-nuclear-renewables">Electricity production from fossil fuels, nuclear and renewables - Our World in Data</a> ||
                    <a href="https://ourworldindata.org/grapher/electricity-prod-source-stacked">Electricity production by source, World </a> ||
                    <a href="https://visualizingenergy.org/world-electricity-generation-since-1900/">World electricity generation since 1900 - Visualizing Energy</a>
                </p>
            </div>
            <div class="columns is-1">
                <p class="is-size-5">
                    Sur ce premier graphe, on observe que la production d’électricité à partir d’énergies fossiles et renouvelables n’a cessé d’augmenter au fil des années, tandis que la production d’électricité issue de l’énergie nucléaire semble stagner depuis maintenant plus de trente ans.
                </p>
            </div>

            <h2 class="title is-2 mt-6">Le nucléaire parmi les sources d'énergies les plus sûres et les plus propres</h2>
            <div class="columns is-2 mt-2">
                <div class="column box" id="dataviz2">
                    <h3 class="title is-4 has-text-centered">Taux de mortalité</h3>
                    <canvas id="chart2A"></canvas>
                    <p class="mt-2 mb-2">* Nombre de morts estimé pour la production d'un térawattheure</p>
                    <p class="is-size-7">Sources :
                        <a href="https://ourworldindata.org/safest-sources-of-energy">What are the safest and the
                            cleanest sources of energy ? - Our World in Data</a>
                    </p>
                    <div class="select mt-2">
                        <select id="data-select-A">
                            <option value="0">Infographie complète</option>
                            <option value="1">Infographie simplifiée</option>
                        </select>
                    </div>
                </div>
                <div class="column is-1"></div>
                <div class="column box" id="dataviz3">
                    <h3 class="title is-4 has-text-centered">Emissions de gaz à effet de serre</h3>
                    <canvas id="chart2B"></canvas>
                    <p class="mt-2 mb-2">* Émissions de gaz à effet de serre mesurées en tonnes de CO2</p>
                    <p class="is-size-7">Sources :
                        <a href="https://ourworldindata.org/safest-sources-of-energy">What are the safest and the
                            cleanest sources of energy ? - Our World in Data</a>
                    </p>
                    <div class="select mt-2">
                        <select id="data-select-B">
                            <option value="0">Infographie complète</option>
                            <option value="1">Infographie simplifiée</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="columns is-1">
                <p class="is-size-5">
                    En observant ces deux graphes, on constate que le nucléaire arrive à se placer parmi les énergies les plus sûres et les plus propres, malgré le bilan des plus grandes catastrophes dans ce milieu, incluant l'accident de Tchernobyl en 1986 et celui de Fukushima en 2011.
                </p>
            </div>
            <h3 class="title is-3 mt-6">Le poster</h3>
            <div class="container is-3" id="poster-container">
                <img src="img/poster.png" id="poster" alt="Poster comparant les émissions de gaz à effet de serre par sources d'énergies">
            </div>
            <div class="columns is-1 mt-2">
                <p class="is-size-5">
                    Ce poster a été réalisé à partir du même dataset que celui des deux graphes précédent, afin de montrer la grande différence de quantité de CO2 émise dans l'atmosphère par le nucléaire en comparaison des sources d'énergies fossiles et renouvelables.
                </p>
            </div>
        </div>
        <div class="column"></div>
    </main>
    <footer class="footer">
        <div class="content has-text-centered">
            <p>
                Données issues de <a href="https://ourworldindata.org" target="_blank">Our World in Data</a> et <a href="https://visualizingenergy.org/" target="_blank">Visualizing Energy</a>.
            </p>
            <p>
                Réalisé avec <a href="https://www.chartjs.org" target="_blank">Chart.js</a> dans le cadre de la SAÉ 303 - MMI.
            </p>
            <p>
                Projet réalisé par Lény Guyomard, Samuel Person et Antonin Thomas.
            </p>
            <p>
                Contact : <a href="mailto:projet.mmi@example.com">projet.mmi@example.com</a>
            </p>
            <p>
                <a href="#top">Retour au début</a> | <a href="#explorer">Explorer les données</a>
            </p>
        </div>
    </footer>
</body>

<script>

    // Dataset 1 ----------------------------------------------------------------

    let years = [];
    for (let year = 1965; year <= 2023; year++) {
        years.push(year);
    }

    let nuclearEnergyTWh = [
        25.539724, 34.43329, 41.006016, 52.113163, 61.783413, 78.87466, 109.70418,
        152.17516, 203.90158, 266.6001, 369.8482, 432.67142, 538.5478, 625.7944,
        650.8599, 711.9242, 840.75073, 912.17755, 1033.8127, 1254.5685, 1488.9216,
        1594.7357, 1734.7332, 1891.2493, 1945.0106, 2000.596, 2096.3098, 2112.223,
        2184.9646, 2225.9788, 2322.5298, 2406.615, 2390.0642, 2431.1948, 2523.7056,
        2540.46, 2613.17, 2654.78, 2601.05, 2719.41, 2726.97, 2761.59, 2703.49,
        2694.72, 2656.76, 2725.91, 2610.34, 2432.22, 2448.52, 2498.73, 2532.93,
        2571.05, 2594.23, 2658.7, 2754.08, 2648.37, 2762.24, 2639.68, 2685.74
    ];

    let renewableEnergyTWh = [
        941.18, 1003.62, 1025.73, 1081.41, 1145.0, 1200.35, 1255.13, 1314.52,
        1335.11, 1465.52, 1483.7, 1481.93, 1532.56, 1657.68, 1741.69, 1781.38,
        1822.4, 1862.64, 1946.16, 2017.77, 2058.02, 2091.67, 2124.91, 2192.85,
        2195.17, 2279.86, 2335.4, 2344.67, 2483.06, 2504.31, 2638.94, 2677.43,
        2735.55, 2765.89, 2799.25, 2858.4, 2795.97, 2873.26, 2899.25, 3129.16,
        3279.51, 3432.46, 3540.47, 3798.13, 3879.24, 4191.63, 4394.13, 4721.16,
        5025.8, 5285.56, 5519.22, 5858.55, 6234.46, 6647.13, 7010.63, 7483.8,
        7927.13, 8484.63, 8913.9
    ];

    let fossilFuelTWh = [
        2441.18, 2626.95, 2821.87, 3108.79, 3402.38, 3695.82, 3901.55, 4237.84,
        4602.07, 4548.22, 4641.95, 5054.53, 5234.31, 5410.12, 5630.42, 5788.33,
        5786.61, 5756.61, 5906.94, 6116.87, 6285.4736, 6439.9746, 6757.7617, 6998.179,
        7455.736, 7614.993, 7722.592, 7807.8833, 7858.686, 8119.1626, 8335.322, 8627.022,
        8911.184, 9214.535, 9498.733, 9878.1, 10090.26, 10520.97, 11126.3, 11564.24,
        12126.32, 12644.06, 13468.19, 13607.04, 13405.4, 14345.73, 14952.61, 15362.46,
        15681.07, 15965.13, 15953.64, 16233.18, 16574.46, 17094.0, 17006.52, 16522.65,
        17480.51, 17719.19, 17879.41
    ];

    // Dataviz 1 ----------------------------------------------------------------

    let ctx1 = document.getElementById('chart1');

    new Chart(ctx1, {
        type: 'line',
        data: {
            labels: years,
            datasets: [{
                label: "Énergie nucléaire",
                data: nuclearEnergyTWh,
                fill: true,
                pointRadius: 0,
            },
            {
                label: "Énergies renouvelables",
                data: renewableEnergyTWh,
                fill: true,
                pointRadius: 0,
            },
            {
                label: "Énergies fossiles",
                data: fossilFuelTWh,
                fill: true,
                pointRadius: 0,
            }]
        }
    });

    // Dataset 2 ----------------------------------------------------------------

    let deathRate = [24.6, 18.4, 2.8, 4.6, 1.3, 0.04, 0.03, 0.02];
    let deathRateSimplified = [15.27, 1.49, 0.03];

    dataset1 = deathRate.map(elt => Math.log(elt) / Math.log(2));
    dataset1Simplified = deathRateSimplified.map(elt => Math.log(elt) / Math.log(2));

    const DATASETSA = [dataset1, dataset1Simplified];

    let greenhouseGasEmission = [970, 920, 440, 230, 24, 11, 6, 53];
    let greenhouseGasEmissionSimplified = [710, 79.5, 6];

    dataset2 = greenhouseGasEmission.map(elt => Math.log(elt) / Math.log(2));
    dataset2Simplified = greenhouseGasEmissionSimplified.map(elt => Math.log(elt) / Math.log(2));

    const DATASETSB = [dataset2, dataset2Simplified];

    let label = ['Charbon', 'Pétrole', 'Gas naturel', 'Biomasse', 'Hydroélectrique', 'Eolien', 'Nucléaire', 'Solaire'];
    let labelSimplified = ['Energies fossiles', 'Energies renouvelables', 'Energie nucléaire'];

    const LABELS = [label, labelSimplified]

    let angle = [129.96, 10.76, 83.12, 8.57, 54.79, 23.80, 35.46, 13.64];
    let angleSimplified = [223.2, 101.88, 34.92];

    const ANGLES = [angle, angleSimplified];

    // Dataviz 2A ----------------------------------------------------------------

    let ctx2 = document.getElementById('chart2A');

    let chart2A = new Chart(ctx2, {
        type: "polarArea",
        data: {
            labels: LABELS[0],
            datasets: [{
                data: DATASETSA[0]
            }]
        },
        options: {
            elements: {
                arc: {
                    angle: ANGLES[0]
                }
            },
            scales: {
                r: {
                    ticks: {
                        callback: function (value, index, values) {
                            return Math.round(Math.pow(2, value));
                        },
                    }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function (context) {
                            let value = context.dataset.data[context.dataIndex]
                            return Math.pow(2, value).toFixed(2);;
                        }
                    }
                }

            }
        }
    });

    // Dataviz 2B ----------------------------------------------------------------

    let ctx3 = document.getElementById('chart2B');

    let chart2B = new Chart(ctx3, {
        type: "polarArea",
        data: {
            labels: LABELS[0],
            datasets: [{
                data: DATASETSB[0]
            }]
        },
        options: {
            elements: {
                arc: {
                    angle: ANGLES[0]
                }
            },
            scales: {
                r: {
                    ticks: {
                        callback: function (value, index, values) {
                            return Math.round(Math.pow(2, value));
                        },
                    }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function (context) {
                            let value = context.dataset.data[context.dataIndex]
                            return Math.pow(2, value).toFixed(2);;
                        }
                    }
                }

            }
        }
    });

    // Fonctions ----------------------------------------------------------------

    function handleDataChangeA(chart2A, datasetIndex) {
        console.log(LABELS[datasetIndex])
        console.log(DATASETSA[datasetIndex])
        console.log(ANGLES[datasetIndex])

        chart2A.data.labels = LABELS[datasetIndex];
        chart2A.data.datasets[0].data = DATASETSA[datasetIndex];
        chart2A.options.elements.arc = { angle: ANGLES[datasetIndex] };
        chart2A.update();
    }

    const datasetSelA = document.getElementById("data-select-A");
    datasetSelA.onchange = () => { handleDataChangeA(chart2A, datasetSelA.value) };

    function handleDataChangeB(chart2B, datasetIndex) {
        console.log(LABELS[datasetIndex])
        console.log(DATASETSB[datasetIndex])
        console.log(ANGLES[datasetIndex])

        chart2B.data.labels = LABELS[datasetIndex];
        chart2B.data.datasets[0].data = DATASETSB[datasetIndex];
        chart2B.options.elements.arc = { angle: ANGLES[datasetIndex] };
        chart2B.update();
    }

    const datasetSelB = document.getElementById("data-select-B");
    datasetSelB.onchange = () => { handleDataChangeB(chart2B, datasetSelB.value) };

</script>

</html>